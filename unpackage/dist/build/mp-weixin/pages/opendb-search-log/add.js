"use strict";const e=require("../../common/vendor.js"),t=require("../../js_sdk/validator/opendb-search-log.js"),a=e.Ds.database();function o(e){let a={};for(let o in t.validator)e.indexOf(o)>-1&&(a[o]=t.validator[o]);return a}const n={data(){let e={brand:0,device_uuid:"",price:""};return{formData:e,formOptions:{brand_localdata:[{text:"苹果",value:0},{text:"华为",value:1},{text:"荣耀",value:2},{text:"小米",value:3},{text:"红米",value:4},{text:"OPPO",value:5},{text:"VIVO",value:6},{text:"iQOO",value:7},{text:"Realme",value:8},{text:"其他",value:9}]},rules:{...o(Object.keys(e))}}},onReady(){this.$refs.form.setRules(this.rules)},methods:{submit(){e.index.showLoading({mask:!0}),this.$refs.form.validate().then((e=>this.submitForm(e))).catch((()=>{})).finally((()=>{e.index.hideLoading()}))},submitForm(t){return a.collection("opendb-search-log").add(t).then((t=>{e.index.showToast({icon:"none",title:"新增成功"}),this.getOpenerEventChannel().emit("refreshData"),setTimeout((()=>e.index.navigateBack()),500)})).catch((t=>{e.index.showModal({content:t.message||"请求服务失败",showCancel:!1})}))}}};if(!Array){(e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const i=e._export_sfc(n,[["render",function(t,a,o,n,i,r){return{a:e.o((e=>i.formData.brand=e)),b:e.p({localdata:i.formOptions.brand_localdata,modelValue:i.formData.brand}),c:e.p({name:"brand",label:"品牌"}),d:e.o((e=>i.formData.device_uuid=e)),e:e.p({placeholder:"设备型号",modelValue:i.formData.device_uuid}),f:e.p({name:"device_uuid",label:"型号"}),g:e.o((e=>i.formData.price=e)),h:e.p({placeholder:"价格",modelValue:i.formData.price}),i:e.p({name:"price",label:"价格"}),j:e.o(((...e)=>r.submit&&r.submit(...e))),k:e.sr("form","5b662500-0"),l:e.p({model:i.formData,"validate-trigger":"submit","err-show-type":"toast"})}}]]);wx.createPage(i);
